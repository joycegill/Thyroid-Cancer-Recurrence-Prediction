---
title: 'Predicting Thyroid Cancer Recurrence'
author: "Joyce Gill, Matthew Billings-Chiu"
date: "2025-05-02"
output:
  pdf_document:
    toc: true
    toc_dept: 2
    number_sections: true
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r echo = F, include = F}
library(dplyr)
library(ggplot2)
library(tidyr)
library(forcats)
```

```{r echo = F, include = F}
## Open Data
data <- read.csv("https://raw.githubusercontent.com/joycegill/Thyroid-Cancer-Recurrence-Prediction/main/filtered_thyroid_data.csv")
```

\newpage
## **Introduction**
  Cancer is the unregulated proliferation of cells which consume dangerous and disproportionately high amounts of energy from the body. These cells can shunt blood flow to maintain their high metabolic cost and increasing size (potentially blocking organ function), which becomes deadly, especially if it metastasizes (spreading elsewhere in the body). In the United States, cancer is the leading cause of death for people under 65 years old. We plan to study thyroid cancer specifically, which is projected to have 44,000 new cases this year, and is unique in that (although statistically insignificant) its death rate has trended upwards in recent years (whereas many have had a statistically significant decrease).1 Thyroid cancer occurs in the thyroid, an endocrine system gland located at the base of the neck that regulates heart rate, blood pressure, body temperature and weight hormonally.
  
  Luckily, thyroid cancer has treatment options, including surgical removal and Radioactive Iodine therapy (RAI) that targets cancerous thyroid cells by exposing them to radioactive iodine (which is primarily taken up by the thyroid). However, treatment response can vary, and monitoring how well a patient responds is critical. We believe that a poor response may increase the likelihood of recurrence. As such, understanding factors such as treatment response on recurrence is highly valuable for deciding a patient’s next steps, which is what we plan to study.
  
  Our research question is as follows: Holding other relevant factors (age, history of radiotherapy, adenopathy, and clinical risk classification) constant, how does initial treatment response predict thyroid cancer recurrence?
  
## **Methods**
Our data was obtained from kaggle, which had been collected from an article submission from Hamadan University, published in the European Archives of Oto-Rhino-Laryngology. The data collected was from 383 individual thyroid cancer patients, whose data was collected over 15 years, and each patient was followed for at least 10 years. The information collected was about variables that relate to the patient’s family history, treatment history, and outcomes

To answer our research question, we will examine the following variables: 

- Recurrence (Binary Categorical Dependent Variable, whether or not cancer recurred)
- Age (Quantitative Explanatory Variable, age of the patient in years)
- Radiotherapy (Binary Categorical Explanatory Variable, history of prior radiotherapy)
- Adenopathy (Binary Categorical Explanatory Variable, presence of lymph node involvement)
- Risk (3 Level Categorical Explanatory Variable, cancer risk classification categorized as low, medium, high)
- Response (4 Level Categorical Explanatory Variable, treatment response classified as excellent, indeterminate, structural incomplete, biochemical incomplete).

No need to do empirical logit cuz theyre categorical variables so its linear by default. randomness and independence has been met too so we can proceed.

```{r}
data <- data %>%
  mutate(Recurred = ifelse(Recurred == "Yes", 1,
                           ifelse(Recurred == "No", 0, NA)))

data <- data %>%
  mutate(risk_binary = case_when(
    Risk == "High" ~ "High",
    TRUE ~ "Not High"
  ))
```


```{r}
logistic_model <- glm(Recurred ~ Age + Gender + Hx.Radiothreapy + Adenopathy + risk_binary + Response, 
                      data, family = binomial)
summary(logistic_model)
```

```{r}
reduced_model <- glm(Recurred ~ Age + Gender + Hx.Radiothreapy + Adenopathy + risk_binary,
                     data = data, family = binomial)

summary(reduced_model)
```


## **Analysis and Results**

## **Discussion**

\newpage
## **References**
